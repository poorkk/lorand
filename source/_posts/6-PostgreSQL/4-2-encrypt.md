---
title: PostgreSQL 4-1 Encrypt
date: 2022-09-25 16:39:37
categories:
    - PostgreSQL
tags:
    - PostgreSQL
---

# 1 数据库加密的背景
## 1.1 数据库安全机制
之前的博客提到，应用将数据发送给数据库后，数据库组织数据并存储数据至磁盘。
数据库通过一系列安全机制，保护磁盘上数据的安全：
- 安全传输：提供TLS等安全协议，保证数据在应用与数据库之间传输的机密性、完整性等，避免攻击者窃听传输中的数据
- 身份认证：基于IP、口令、证书等鉴别用户身份，避免攻击者非法访问数据库
- 访问控制：采用自主访问控制、角色访问控制、行级访问控制、强制访问控制等机制，避免攻击者非法访问数据库中的对象
- 安全审计：记录攻击者在数据库中执行的各项操作
- 数据脱敏：对隐私数据库进行脱敏处理，避免攻击者查看数据库中的隐私数据
- 数据防篡改：基于区块链等技术，记录数据变化

## 1.2 数据泄露问题
在很多针对数据库的攻击者，攻击者可绕过数据库的认证机制，直接从磁盘读取数据，造成数据泄露问题。
为了规避此问题，有以下几种常见的数据库加密方案。

## 1.3 数据泄露范围

## 1.4 数据库加密方案分类
常见的数据库加密方案有很多种，本博客仅介绍一些常见的，适用于大部分场景的加密方案。
首先，按加密位置分类，可分为以下6种：
### 一、按加密位置分类

### 二、按加密定义方式分类

其中，按是否对应用透明，可分为以下2种：

### 三、按加密粒度分类

## 1.5 数据库加密方案衡量标准
### 一、安全性
### 二、可用性
### 三、性能
### 四、易用性
### 五、数据低膨胀

## 1.5 各种数据库加密方案的对比
衡量加密

## 1.6 业界数据库加密方案

# 2 数据库加密的实现
## 2.0 通过编程访问数据

## 2.1 方案一：应用内加密

## 2.2 方案二：全密态加密

## 2.3 方案三：网关加密

## 2.4 方案四：数据库加密函数

## 2.5 方案五：透明加密

## 2.6 方案六：磁盘加密

