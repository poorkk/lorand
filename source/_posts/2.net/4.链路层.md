---
title: 计算机网络 4 链路层
date: 2023-01-01 16:03:37
categories:
    - 计算机网络
tags:
    - 计算机网络
---

- 数据链路层
    - 目的
        - 物理传输有差错，需采取纠错机制
        - 网络容量不同，需采取流量控制
        - 物理层传输介质不同，屏蔽物理层差异
        - 物理层bit传输，传输效率低
    - 结构
        - LLC子层：逻辑链路控制
            - 功能
                - 逻辑链路建立与释放
                - 控制信号交换
                - 流量控制
                - 解释上层协议命令
                - 处理传输错误
            - 阶段
                - 链路建立
                - 链路保持
                - 链路释放
        - MAC子层：介质访问控制
            - 数据帧封装与拆卸
            - 帧的寻址和识别
            - 帧的发送和接受
            - 帧的差错控制
            - 介质访问冲突
    - 功能
        - 数据帧封装
            - 帧大小：由最大传输单元 MTU 控制（IP包MTU为1500字节）
            - 帧组装
                - 字节计数法：1特殊字符代表帧开始，1字段表示帧内字节数
                - 比特填充首尾定界法：帧头帧尾插入特定比特串
                - 字符填充法首尾定界法：如SYN字符开头、EXT字符结尾
                - 违法编码法
        - 差错控制
            - 方法分类
                - 奇偶校验码 PPC：判断1的个数是偶数还是奇数（奇偶校验位）
                    - 缺点：检查单个码元错误，用于误码率低环境
                - 循环冗余校验码 CRC（整除取余思想）
                    ```bash
                    1. 选择多项式 x^4 + x^3 ++ 1  -> 11001
                    2. 帧尾预留4个bit (少一位)
                    3. 帧内数据除 11001
                    ```
        - 差错纠正
            - 方法分类
                - 反馈检测法
                - 自动重发请求法
                    - 空闲重发
                    - 连续重发
                - 纠错码：编码自带纠错能力
                    - 海明码：多个校验位
                        - 实现：计算校验位数 -> 明确校验码位置 -> 确定校验码 -> 实现校验纠错
        - 流量控制
            - 场景：两端发送速度与接受速度不一致
            - 方法分类
                - 基于反馈的流量控制方案
                    - 停-等方案：XON/XOFF协议：发送端发送数据帧->发送端等待->接收端接受数据帧->接收端向发送端发送确认帧->发送端继续发送数据
                - 基于速率的流量控制
                    - 滑动窗口机制
    - 应用
        - 集线器 
            - 特点
                -  多次复制的广播传输
            - 缺点
                - 共享传输介质
                -  端口带宽过窄
                - 容易产生广播风暴
        - 网桥
        - 二层交换机
            - 特点
                - 具有多个交换端口：数据只对目标节点发送
                - 数据转发效率更高
                - 更强的MAC地址自动学习能力
        